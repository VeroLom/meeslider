/*
 * MeeSlider, version: 1.1
 *
 * Author: Nikita Melikhov, ver@0xff.su, http://xslt.pw
 * 
 * 1.1: Added autoplay
 * 1.0: Initial version
*/
!function(a){jQuery.fn.meeSlider=function(b){var c=0,d=1;b=a.extend({auto:!1,delay:5e3,controls:!0,prev:"prev",next:"next",fadeIn:200,fadeOut:200,_debug:!1},b);var e=function(){function g(g){b._debug&&console.log(" - MeeSlider: prevSlide(), count: "+c+", current: ",d),a(f.find("li")[d-1]).fadeOut(b.fadeOut,function(){f.find("li").hide(),1==d&&(d=c+1,e.data("mee-current",d+1)),d--,a(f.find("li")[d-1]).fadeIn(b.fadeIn),e.data("mee-current",d),b._debug&&console.log(" - MeeSlider: prevSlide(), count: "+c+", current: ",d),b._debug&&console.log(" ")})}function h(g){b._debug&&console.log(" - MeeSlider: nextSlide(), count: "+c+", current: ",d),a(f.find("li")[d-1]).fadeOut(b.fadeOut,function(){f.find("li").hide(),d==c&&(d=0,e.data("mee-current",0)),d++,a(f.find("li")[d-1]).fadeIn(b.fadeIn),e.data("mee-current",d),b._debug&&console.log(" - MeeSlider: nextSlide(), count: "+c+", current: ",d)})}function i(){b._debug&&console.log(" - MeeSlider: autoPlay()"),h(),j=setTimeout(i,b.delay)}b._debug&&console.log(" - MeeSlider: make()");var e=a(this),f=e.find("> ul");if(f){if(b._debug&&console.log(" - MeeSlider: ul found"),f.css("list-style","none"),c=f.find("li").length,b._debug&&console.log(" - MeeSlider: count: "+c),f.find("li").hide(),e.data("mee-current",1),d=1,b._debug&&console.log(" - MeeSlider: current: "+d),a(f.find("li")[d-1]).show(),b.auto){b._debug&&console.log(" - MeeSlider: autostart is enabled");var j=setTimeout(i,b.delay);e.hover(function(){b._debug&&console.log(" - MeeSlider: hover - stop autoplay"),clearTimeout(j)},function(){b._debug&&console.log(" - MeeSlider: hout - resume autoplay"),j=setTimeout(i,b.delay)})}else console.warn("no autoplay");e.find("."+b.prev).click(g),e.find("."+b.next).click(h)}};return this.each(e)}}(jQuery);
